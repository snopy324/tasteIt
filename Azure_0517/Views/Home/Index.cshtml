@model Azure_0517.Models.ViewModel.FirstPage
@{
    ViewBag.Title = "Index";
}


@section styles{
    <style>
        a {
            text-decoration:none;
        }

        .blockshodow:hover {
            box-shadow: 10px 10px 5px #000000;
            -moz-box-shadow: 0px 10px 5px #000000;
            -webkit-box-shadow: 0px 10px 5px #000000;
        }

        #p1 {
            float: left;
        }

        .wrap-event-left {
            width: 800px;
            height: 300px;
            margin-left: 300px;
        }

        .wrap-event-right {
            width: 800px;
            height: 300px;
            margin-left: 520px;
        }

        .pic {
            width: 350px;
            height: 250px;
            text-align: center;
            margin-left: 20px;
        }

        .block1 {
            /*background-color: lightseagreen;*/
            height: 200px;
            width: 1450px;
            margin: 30px auto;
            /*padding-top:30px;*/
            margin-top: 30px;
        }

        .block2 {
            height: 200px;
            width: 225px;
            /*background-color: palegoldenrod;*/
            margin-right: 15px;
            float: left;
        }

        .food {
            height: 200px;
            width: 225px;
        }

        .rank {
            height: 400px;
            /*border: 1px solid #f8d8d8;*/
            width: 30%;
            float: left;
            margin-top: -90px
        }

        .rank-block1 {
            height: 70px;
            width: 90%;
            margin: 15px auto;
            margin-left: auto;
            margin-right: auto;
            position: relative;
            transition: transform .2s; /* Animation */
        }

            .rank-block1:hover {
                transform: scale(1.1); /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */
            }

        .radius {
            border: 4px solid #EBC8B4;
            border-radius: 15px;
            height: 70px;
        }

        .rankcontent {
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
            /*text-align: center;*/
            /*font-size: larger;*/
            word-break: break-all;
            color: #4f4f4f;
        }



        .rank-img {
            float: left;
        }

        .rank-pic {
            width: 90px;
            height: 80px;
            float: left;
            margin: auto 10px auto -20px;
        }

        .rank-restaurant {
            width: 40%;
            float: left;
        }

        .blank {
            height: 500px;
            width: 1%;
            float: left;
        }

        .blog {
            height: 400px;
            /*border: 1px solid #f8d8d8;*/
            width: 69%;
            float: left;
            margin-top: -90px
            /*background-color: #D7DCDE;*/
        }

        .issue {
            height: 350px;
            /*border: 1px solid #f8d8d8;*/
            width: 68%;
            /*float:left;*/
            float: left;
            display: inline-block;
        }

        .newin {
            height: 350px;
            /*border: 1px solid #f8d8d8;*/
            width: 31%;
            display: inline-block;
        }

        .HotIssueTitle {
            margin-top: 5px;
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
            color: #4e5862 /*#4F4F4F*/;
            text-decoration:none;
        }

        .HotIssue_medal {
            z-index: 1;
            position: absolute;
            top: -15px;
            left: -5px;
            width: 60px;
            height: 60px;
            border: 4px 4px 4px 3px gray !important;
        }


        .lightcolor:hover {
            opacity: 0.8;
        }

        .container1 {
            height: 250px;
        }

        .row1 {
            height: 250px;
        }

        .blank2 {
            height: 350px;
            width: 1%;
            float: left;
            /*border: 1px solid #f8d8d8;*/
            display: inline-block;
        }

        /*/*hot issue*/
        #hotissuediv img {
            width: 100%;
            height: 100%;
        }

        #hotissuediv {
            /*display: inline-block;*/
            float: right;
            width: 19%;
            height: 250px;
            margin-right: 5px;
            background-color: #EBC8B4 /*#f6e3c5*/;
        }


        .hotissuestretch {
            width: 165px;
            height: 155px;
            margin-top: 15px;
         
        }


        .slide2 {
            width: 100%
        }

        /*newin*/
        .newincarousel {
            margin: 0px auto;
            width: 60%;
        }

        .d-block {
            width: 40%;
        }

        .newinstretch {
            /*width: 600px;*/
            height: 250px;
        }

        /*==============================*/

        #ul1 {
            width: 100%; /*change this to fit*/
            margin: 10px auto;
        }

        #li1 {
            width: 165px;
            height: 165px;
            margin-right: 10px;
            margin-bottom: 10px;
            float: left;
            list-style: none;
            position: relative;
            /*cursor: pointer;*/
            font-family: 'Open Sans';
            font-weight: 300;
            /*perspective: 1000;*/
        }

        .div1 {
            color: #fff;
            width: 100%;
            height: 100%;
            position: absolute;
            /*transition*/
            transition: all 0.5s ease;
            /*backface-visibility*/
            backface-visibility: hidden;
        }

        .cfront {
            z-index: 3;
            color: #fff;
            text-align: center;
            line-height: 210px;
            font-size: 20px;
            background: #e3e3e3;
        }

        .back {
            color: #fff;
            text-align: center;
            line-height: 200px;
            font-size: 22px;
            transform: rotateY(180deg);
            background: #34495e;
        }



        #li1:hover > .front {
            z-index: 0;
            transform: rotateY(180deg);
        }

        #li1:hover > .back {
            transform: rotateY(0deg);
        }


        /*===================================*/
        .discount {
            height: 350px;
            /*border: 1px solid #f8d8d8;*/
            width: 30%;
            float: left;
            position: relative;
        }

        .block3 {
            position: absolute;
            left: 0px;
            /*top: 260px;*/
            width: 362px;
            height: 362px;
        }

        @@font-face {
            src: url('Azonix.otf');
            font-family: newFont;
        }

        .cube1 {
            width: 380px;
            height: 380px;
            position: relative;
            /*top: 2%;*/
            left: 43%;
            transform: translate(-50%,-50%);
            perspective: 362px;
            top: 200px;
        }

            .cube1 .cube {
                width: 100%;
                height: 75%;
                position: relative;
                top: 0;
                left: 0;
                transform-style: preserve-3d;
                transform: translateZ(calc(-75vmin / 2));
                transition: all .8s ease-in-out;
            }

                .cube1 .cube .side {
                    width: 100%;
                    height: 100%;
                    position: absolute;
                    top: 0;
                    left: 0;
                    background-repeat: no-repeat;
                    background-size: cover;
                    background-position: center center;
                }

                    .cube1 .cube .side.front {
                        transform: rotateY(0deg) translateZ(calc(380px * 3 / 4 / 2));
                    }

                    .cube1 .cube .side.back {
                        transform: rotateY(180deg) translateZ(calc(380px * 3 / 4 / 2)) rotate(180deg);
                    }

                    .cube1 .cube .side.top {
                        transform: rotateX(90deg) translateZ(calc(380px * 3 / 4 / 2));
                    }

                    .cube1 .cube .side.bottom {
                        transform: rotateX(-90deg) translateZ(calc(380px * 3 / 4 / 2));
                    }

            .cube1 .selector {
                width: 100%;
                height: 25%;
                position: relative;
                top: 0;
                left: 0;
            }


        .GeneratedMarquee {
            line-height: 1.3em;
            padding: 1.5em;
        }

        .discount-content {
            margin-right: 60px;
            margin-left: 60px;
            color: #6A4C9C;
        }

        .box-shadow:hover {
            /*filter: drop-shadow(2px 2px 2px  rgba(0, 0, 0, 0.7))*/
            box-shadow: 2px 2px 8px 2px #bebebe;
        }
        /*==========================================================*/

        .specialrestaurant {
            height: 350px;
            /*border: 1px solid #f8d8d8;*/
            width: 69%;
            float: left;
        }

        .specialdiv {
            margin-right: 5px;
            margin-bottom: 10px;
            width: 19%;
            height: 295px;
            float: left;
            /*border: 1px solid #f8d8d8;*/
            position: relative;
            background-color: #D7DCDE;
        }

        .specialdiv2 {
            background-color: #f2f2f2;
            width: 100%;
            height: 150px;
        }

        .specialcontent {
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
        }

        .specialdetail {
            position: absolute;
            bottom: 0px;
            color: #4e5862
        }

        .img-circle {
            border-radius: 50%;
        }

        /*====================================================*/
        .timeLine {
            display: table;
            width: 50%;
            height: 300px !important;
            /*overflow: hidden;*/
            text-align: center;
        }

        .timeLine__item {
            display: table-cell;
            vertical-align: bottom;
            width: 100px;
            height: 5%;
            padding: 0 15px;
            overflow: hidden;
            visibility: hidden;
            text-decoration: none;
          
        }
       

        .timeLine__content {
            background-color: #EBC8B4;
            margin-bottom: 15px;
            /*padding: 20px;*/
            visibility: hidden;
            opacity: 0;
            transform: translate(0, -40px);
            transition: all 0.3s ease;
            height: 225px;
            width: 200px;
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
            text-decoration: none !important;
            border-radius: 3px;
            box-shadow: 3px 3px 3px 2px gray !important;
        }

        .timeLine__dot {
            position: relative;
            /*margin: 0 10px 0 10px;*/
            width: 10px;
            height: 10px;
            background-color: #D0104C;
            border-radius: 50%;
            visibility: visible;
        }

            .timeLine__dot:after {
                content: '';
                display: block;
                position: absolute;
                width: 10000px;
                height: 1px;
                background-color: #D0104C;
                opacity: 0.3;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) translateZ(0);
                visibility: visible;
            }

        .timeLine__year {
            padding-top: 20px;
            /*margin-right:-50px;*/
            color: #D0104C;
            visibility: visible;
            width: 20px;
        }

        .timeLine__item.active .timeLine__content {
            opacity: 1;
            visibility: visible;
            transform: translate(0, 0);
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
            text-decoration: none !important;
        }
    </style>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

}

@*<body>*@

@*hot issue*@
<div class="wrap4">
    <div style="background-color:#EEE1DA;height:60px;"></div>
    <div class="issue">
        <h3 style="font-family:微軟正黑體">
            <img src="~/食物照片/餐廳照片/icon4.png" width="32" height="32" style="margin-right:15px">熱門話題
        </h3>

        <div class="timeLine js-abode-timeLine-01">

            @foreach (var x in Model.Hotnews)
            {
           
            <div class="timeLine__item js-abode-timeLine__item-01 lightcolor">
                <a href="@Url.Action("BlogPage", "Home",new { id =x.New_ID})" style="text-decoration:none;">
                    <div class="timeLine__content ">
                        <div class="HotIssue_medal">

                            <img src="~/tasteitlogo/award.png" />
                        </div>
                        <div style="margin:0 auto">
                            @Html.Raw(@x.GetImg[0])
                        </div>

                        @* <h5 class="timeLine__title">Lorem ipsum dolor sit amet, consectetur</h5>*@
                        <p class="timeLine__text HotIssueTitle" style="text-decoration:none;overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;width:165px;margin-left:18px;">@x.New_Title</p>
                    </div>
                </a>
                <div class="timeLine__dot"></div>

                <div class="timeLine__year">@x.New_CreateDate.Value.ToString("MM/dd")</div>

            </div>
           
                    }






            </div>
        </div>
    </div>


@*hot issue*@

@*new in*@
<div class="blank2">  </div>
<div class="wrap5">
    <div class="newin">
        <h3 style="font-family:微軟正黑體;margin-bottom:6px">
            <img src="~/食物照片/餐廳照片/new.png" width="40" height="40" style="margin-right:15px;">新進食記
        </h3>
        <a href="@Url.Action("NewsSearching","Home")" style="position:relative;left:80%;top:-40px;">更多...</a>
        <div id="carouselExampleIndicators" class="carousel slide newincarousel" data-ride="carousel">
            @*<ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                </ol>*@
            <div class="carousel-inner" id="newindiv" style="width:300px;margin-left:-60px">


                @foreach (var x in Model.Newinnews)
                {
                    <div class="carousel-item lightcolor" id="newinitem" style="width:100%">

                        <a id="newinA" href="@Url.Action("BlogPage", "Home",new { id = x.New_ID})">

                            @Html.Raw(@x.GetImg[1])


                            @*<img class="d-block w-100" src="" alt="Second slide">*@
                            <div class="carousel-caption d-none d-md-block">
                                <h5 style=" text-shadow: black 0.1em 0.1em 0.2em"> @x.Restaurant.Res_Name</h5>   @*restaurant name*@
                                <p style=" text-shadow: black 0.1em 0.1em 0.2em">@x.New_Title</p>  @*news title*@
                            </div>

                        </a>


                    </div>
                }


            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                @*<span class="sr-only">Previous</span>*@
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                @*<span class="sr-only">Next</span>*@
            </a>
        </div>

    </div>

</div>


@*new in*@


@*Discount*@
<div class="wrap2">
    <div style="background-color:#EEE1DA;height:60px;"></div>
    <div class="discount">
        <h3 style="font-family:微軟正黑體;">
         <span></span>
            <img src="~/食物照片/餐廳照片/icon3.png" width="32" height="32" style="margin-right:15px;"/>本月主打

        </h3>
        <a href="@Url.Action("DiscountSearching","Home")" style="position:relative;left:80%;top:-40px;">更多...</a>
        <h4 id="discount-content" class="discount-content" style="position:absolute;left:0px;top:3px;">
            <marquee class="GeneratedMarquee" direction="left" scrollamount="8" behavior="scroll" style="margin-top:50px;padding:0">畢業季 <i class="far fa-heart"></i>謝師宴必吃</marquee>
        </h4>

        <div class="block3">

            <div class="carousel cube1">
                <div class="cube show-front" id="discountDivCube">

                    @foreach (var x in Model.DiscountCube)
                    {
                        <a href="@Url.Action("RestaurantHomePage", "Restaurant" ,new { id=x.Dis_RestaurantID})">
                            <div class="side">
                                @*<h5 class="discounttitle">@x.Dis_Title</h5>*@
                                <img src="@Url.Action("GetDiscountImage", "Home", new { id = x.Dis_ID })" style="width:100%;height:100%" />
                            </div>


                        </a>
                    }

                </div>
                <div class="selector" style="height:15px;">
                    <div class="btn-group">
                        <button class="prev" style="display: none;"></button>
                        <button class="next" style="display: none;"></button>
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>

@*Discount*@
<div class="blank">  </div>
@*specialrestaurant*@
<div class="wrap3">

    <div class="specialrestaurant">
        <h3 style="font-family:微軟正黑體;">
            <img src="~/食物照片/餐廳照片/taste.png" width="32" height="32" style="margin-right:15px;">輕鬆Eat夏--清涼特搜
        </h3>

        @foreach (var x in Model.Special)
        {
        <a href="@Url.Action("RestaurantHomePage", "Restaurant" ,new { id=x.Res_ID})" style="color:#4e5862">
            <div class="specialdiv box-shadow">

                <div class="specialdiv2">
                    <img src="@Url.Action("getimage","Home",new { id=x.Res_ID})" style="width:200px;height:200px;" />
                </div>

                <div>
                    <h5 style="font-weight:600;overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;">
                        @x.Res_Name
                    </h5>
                    <div class="specialdetail">
                        <span style="color: #4e5862">@x.City.Cit_Name</span>
                        <span class="specialcontent">@x.Res_IntroductionContext</span>
                    </div>

                </div>

            </div>
        </a>
        }




    </div>

</div>




@*specialrestaurant*@
@*
    <div style="height:60px;clear:left">

        </div>*@
<div style="clear:left">

</div>
@*ClickRateTop4*@
<div class="wrap2">

    <div class="rank">
        <h3 style="font-family:微軟正黑體;">
            <img src="~/tasteitlogo/agendas.png" width="32" height="32" style="margin-right:15px;">精選食記
        </h3>

        <div>
            @foreach (var x in Model.ClickRatenews)
            {
                <div class="rank-block1">
                    <a href="@Url.Action("BlogPage", "Home",new { id = x.New_ID})" style="text-decoration:none;">

                        @*<div style="height:80px;width:110px;float:left;">*@
                        @*<img class="rank-pic" src="~/食物照片/餐廳照片/bencuisine.jpg" />*@

                        @Html.Raw(@x.GetImg[1])
                        @*</div>*@
                        <div class="radius" style="margin-bottom:5px;padding:5px;background-color:#EBC8B4">
                            <h6 class="rankcontent">@x.New_Title</h6>
                            <span style=" color:#4F4F4F;position: absolute;bottom: 0px;font-size:12px">－ @x.Member.Mem_NickName  <i class="far fa-thumbs-up"></i></span>
                        </div>

                    </a>


                </div>
            }



        </div>
    </div>
</div>

<div class="blank">  </div>

@*小編推薦*@
<div class="wrap3">

    <div class="blog">
        <h3 style="font-family:微軟正黑體;">
            <img src="~/tasteitlogo/heart.png" width="32" height="32" style="margin-right:15px;">小編推薦
        </h3>
        <div style="margin-left:-30px;">
            <ul id="ul1" @*style="margin-left:-40px;"*@>

                @foreach (var x in Model.Star)
                {
                    <a href="@Url.Action("RestaurantHomePage", "Restaurant" ,new { id=x.Res_ID})">
                        <li id="li1">
                            <div class="front div1" @*id="box1" *@>
                                <span class="carousel-caption d-none d-md-block" style=" text-shadow: black 0.1em 0.1em 0.2em;width:120px">@x.Res_Name @*<i class="fa fa-home fa-2x"> </i>*@<br /> <i class="fa fa-home fa-2x"></i></span>
                                <img src="@Url.Action("getimage","Home",new { id=x.Res_ID})" style="height:165px;width:165px;background-color:sandybrown;opacity:0.7" />
                            </div>
                            <div class="back  div1">
                                <img src="~/tasteitlogo/comStar.png" style="width:28px;" />
                                <span style="font-weight:500;">@x.Res_StarRate</span>

                            </div>
                        </li>

                    </a>
                }



            </ul>

        </div>

    </div>

</div>


@*</body>*@


@section scripts{





    <script>
        //$('#newindiv').first().addClass('active');
        $('#newindiv div:first').addClass('active');


        $('#discountDivCube div:first').addClass('front');
        $('#discountDivCube div:eq(1)').addClass('back');
        $('#discountDivCube div:eq(2)').addClass('top');
        $('#discountDivCube div:last').addClass('bottom');



        $('#newinA img').addClass('d-block w-100 newinstretch');
        $('.timeLine__content img').addClass('hotissuestretch');
        $('.rank-block1 img').addClass('rank-pic img-circle');
    </script>
    <script>


        $('.slide').carousel({
            interval: 1000
        })

    </script>

    <script>

        let cube = document.querySelector('.carousel .cube');
        let prevBtn = document.querySelector('.carousel .selector .btn-group .prev');
        let nextBtn = document.querySelector('.carousel .selector .btn-group .next');
        prevBtn.addEventListener('click', prevHandler);
        nextBtn.addEventListener('click', nextHandler);
        let rotatedValue = 0;
        function prevHandler(e) {
            cube.style.transform = `translateZ(calc(-75vmin / 2)) rotateX(${rotatedValue += 90}deg)`;
        }
        function nextHandler(e) {
            cube.style.transform = `translateZ(calc(-75vmin / 2)) rotateX(${rotatedValue -= 90}deg)`;
        }



        setInterval(function prevHandler(e) {
            cube.style.transform = `translateZ(calc(-75vmin / 2)) rotateX(${rotatedValue += 90}deg)`;
            //$('#discount-content').text($(`#span-${flag}`).text());
            //flag++;
            //if (flag > 4) { flag = 1; }

        }, 3000)




    </script>



    @*TimeLine*@
    <script>
        $('.js-abode-timeLine-01').each(function () {
            var setting = {
                delay: 1350,
            },
                self = $(this),
                item = $('.js-abode-timeLine__item-01', self),
                count = 0;

            function myCount() {
                if (count >= item.length) {
                    count = 0;
                }
                count++;
                item.removeClass('active');
                item.eq(count - 1).addClass('active');
            }
            var createActive = setInterval(myCount, setting.delay);

            item.hover(function () {
                var itemHover = $(this);
                item.removeClass('active');
                itemHover.addClass('active');
                clearInterval(createActive);
            }, function () {
                item.removeClass('active');
                createActive = setInterval(myCount, setting.delay);
            });
        });
    </script>
}

